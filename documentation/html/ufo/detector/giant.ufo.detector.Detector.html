
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Detector &#8212; GIANT 1.0.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/logo.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="copyright" title="Copyright" href="../../copyright.html" />
    <link rel="next" title="Detector.add_images" href="giant.ufo.detector.Detector.add_images.html" />
    <link rel="prev" title="giant.ufo.detector" href="../giant.ufo.detector.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../index.html">
    <img class="logo" src="../../_static/logo.png" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">A powerful API for Optical Navigation</p>






<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installing GIANT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../giant.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../giant.html#indices">Indices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../copyright.html">Copyright</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../../giant.html">API Reference</a><ul>
  <li><a href="../../giant.ufo.html">giant.ufo</a><ul>
  <li><a href="../giant.ufo.detector.html">giant.ufo.detector</a><ul>
      <li>Previous: <a href="../giant.ufo.detector.html" title="previous chapter">giant.ufo.detector</a></li>
      <li>Next: <a href="giant.ufo.detector.Detector.add_images.html" title="next chapter">Detector.add_images</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="../giant.ufo.detector.html" title="Previous document">giant.ufo.detector</a>
        </li>
        <li>
          <a href="giant.ufo.detector.Detector.add_images.html" title="Next document">Detector.add_images</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="detector">
<h1>Detector<a class="headerlink" href="#detector" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="../giant.ufo.detector.html#module-giant.ufo.detector" title="giant.ufo.detector"><code class="xref py py-mod docutils literal notranslate"><span class="pre">giant.ufo.detector</span></code></a>:</p>
<dl class="py class">
<dt class="sig sig-object py" id="giant.ufo.detector.Detector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">giant.ufo.detector.</span></span><span class="sig-name descname"><span class="pre">Detector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sopnav</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scene</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dn_offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">image_information_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">magnitude_function</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update_attitude_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">find_ufos_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unmatched_star_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hot_pixel_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_hashed_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/giant/ufo/detector.html#Detector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#giant.ufo.detector.Detector" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is used to identify possible non-cooperative unresolved targets in optical images.</p>
<p>This is done by first extracting bright points from the image, then fitting point spread functions to the bright
spots in an image, and finally removing bright points that correspond to stars.  All of this is primarily handled by
the :class:.StellarOpNav` class, and this class serves as a wrapper for collecting data from the
<a class="reference internal" href="../../stellar_opnav/stellar_class/giant.stellar_opnav.stellar_class.StellarOpNav.html#giant.stellar_opnav.stellar_class.StellarOpNav" title="giant.stellar_opnav.stellar_class.StellarOpNav"><code class="xref py py-class docutils literal notranslate"><span class="pre">StellarOpNav</span></code></a> class and for packaging each possible detection (with additional information) into a pandas
Dataframe for easy export/processing.</p>
<p>To use this class simply provide the required initialization inputs, call <a class="reference internal" href="giant.ufo.detector.Detector.update_attitude.html#giant.ufo.detector.Detector.update_attitude" title="giant.ufo.detector.Detector.update_attitude"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update_attitude()</span></code></a>, call
<a class="reference internal" href="giant.ufo.detector.Detector.find_ufos.html#giant.ufo.detector.Detector.find_ufos" title="giant.ufo.detector.Detector.find_ufos"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_ufos()</span></code></a>, call <a class="reference internal" href="giant.ufo.detector.Detector.package_results.html#giant.ufo.detector.Detector.package_results" title="giant.ufo.detector.Detector.package_results"><code class="xref py py-meth docutils literal notranslate"><span class="pre">package_results()</span></code></a>, call <a class="reference internal" href="giant.ufo.detector.Detector.remove_duplicates.html#giant.ufo.detector.Detector.remove_duplicates" title="giant.ufo.detector.Detector.remove_duplicates"><code class="xref py py-meth docutils literal notranslate"><span class="pre">remove_duplicates()</span></code></a>, and then optionally call
<a class="reference internal" href="giant.ufo.detector.Detector.save_results.html#giant.ufo.detector.Detector.save_results" title="giant.ufo.detector.Detector.save_results"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save_results()</span></code></a> to save the results to a csv file.</p>
<p>For more details on tuning for detection and the full UFO process, including tacking, see the <a class="reference internal" href="../../giant.ufo.html#module-giant.ufo" title="giant.ufo"><code class="xref py py-mod docutils literal notranslate"><span class="pre">ufo</span></code></a>
package documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sopnav</strong> (<a class="reference internal" href="../../stellar_opnav/stellar_class/giant.stellar_opnav.stellar_class.StellarOpNav.html#giant.stellar_opnav.stellar_class.StellarOpNav" title="giant.stellar_opnav.stellar_class.StellarOpNav"><em>giant.stellar_opnav.stellar_class.StellarOpNav</em></a>) – The stellar opnav instance that will be used for star and UFO identification/attitude estimation</p></li>
<li><p><strong>scene</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="../../ray_tracer/scene/giant.ray_tracer.scene.Scene.html#giant.ray_tracer.scene.Scene" title="giant.ray_tracer.scene.Scene"><em>giant.ray_tracer.scene.Scene</em></a><em>]</em>) – The optional scene instance defining the location of the light source and any extended bodies</p></li>
<li><p><strong>dn_offset</strong> (<em>numbers.Real</em>) – The dn offset of the detector, used for computing magnitude/statistics about the observed UFO</p></li>
<li><p><strong>image_information_function</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>[</em><em>[</em><a class="reference internal" href="../../image/giant.image.OpNavImage.html#giant.image.OpNavImage" title="giant.image.OpNavImage"><em>giant.image.OpNavImage</em></a><em>]</em><em>, </em><em>Tuple</em><em>[</em><em>float</em><em>, </em><em>float</em><em>, </em><em>float</em><em>, </em><em>Union</em><em>[</em><em>Sequence</em><em>, </em><em>numpy.ndarray</em><em>, </em><em>numbers.Real</em><em>]</em><em>]</em><em>]</em><em>]</em>) – A function that gives the quantization noise, read noise, and electron to DN
conversion factor for the detector and predicts the dark current for a
input <a class="reference internal" href="../../image/giant.image.OpNavImage.html#giant.image.OpNavImage" title="giant.image.OpNavImage"><code class="xref py py-class docutils literal notranslate"><span class="pre">OpNavImage</span></code></a> object (or None).  If None then the SNR values
will be less meaningful.</p></li>
<li><p><strong>magnitude_function</strong> (<em>Optional</em><em>[</em><em>Callable</em><em>[</em><em>[</em><em>List</em><em>[</em><em>float</em><em>]</em><em>, </em><a class="reference internal" href="../../image/giant.image.OpNavImage.html#giant.image.OpNavImage" title="giant.image.OpNavImage"><em>giant.image.OpNavImage</em></a><em>]</em><em>, </em><em>Union</em><em>[</em><em>numpy.ndarray</em><em>, </em><em>List</em><em>[</em><em>float</em><em>]</em><em>]</em><em>]</em><em>]</em>) – A function that computes the apparent magnitude for detections based off of the input
5x5 summed DN for the detections and the image the detection came from.  If <code class="docutils literal notranslate"><span class="pre">None</span></code>
then the magnitude will not be computed and will be stored as 0 for all detections.</p></li>
<li><p><strong>update_attitude_kwargs</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>]</em><em>]</em>) – A dictionary of str -&gt; dictionary where the keys are “star_id_kwargs”,
“image_processing_kwargs”, or “attitude_estimator_kwargs” and the values are
dictionaries specifying the key word argument -&gt; value pairs for the appropriate
class.  This is used to update the settings before attempting to solve for the
attitude in each image. (<a class="reference internal" href="giant.ufo.detector.Detector.update_attitude.html#giant.ufo.detector.Detector.update_attitude" title="giant.ufo.detector.Detector.update_attitude"><code class="xref py py-meth docutils literal notranslate"><span class="pre">update_attitude()</span></code></a>)</p></li>
<li><p><strong>find_ufos_kwargs</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>]</em><em>]</em>) – A dictionary of str -&gt; dictionary where the keys are “star_id_kwargs”,
“image_processing_kwargs”, or “attitude_estimator_kwargs” and the values are
dictionaries specifying the key word argument -&gt; value pairs for the
appropriate class.  This is used to update the settings before attempting to
identify ufos in the image (<a class="reference internal" href="giant.ufo.detector.Detector.find_ufos.html#giant.ufo.detector.Detector.find_ufos" title="giant.ufo.detector.Detector.find_ufos"><code class="xref py py-meth docutils literal notranslate"><span class="pre">find_ufos()</span></code></a>)</p></li>
<li><p><strong>hot_pixel_threshold</strong> (<em>int</em>) – The minimum number of images a (x_raw, y_raw) pair must appear in for the detections
to be labeled a possible hot pixel</p></li>
<li><p><strong>unmatched_star_threshold</strong> (<em>int</em>) – The minimum number of images a (ra, dec) pair must appear in for the detections
to be labeled a possible unmatched star</p></li>
<li><p><strong>create_hashed_index</strong> (<em>bool</em>) – This boolean flag indicates that when packaging the results
(<a class="reference internal" href="giant.ufo.detector.Detector.package_results.html#giant.ufo.detector.Detector.package_results" title="giant.ufo.detector.Detector.package_results"><code class="xref py py-meth docutils literal notranslate"><span class="pre">package_results()</span></code></a>) the index of the resulting dataframe should be build from
a hash of <code class="docutils literal notranslate"><span class="pre">'image_file_{x_raw}_{y_raw}'</span></code> instead of just using an index.  This
makes it easier to identify the detections uniquely and is recommended to be left
<code class="docutils literal notranslate"><span class="pre">True</span></code></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p class="rubric">Summary of Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="giant.ufo.detector.Detector.add_images.html#giant.ufo.detector.Detector.add_images" title="giant.ufo.detector.Detector.add_images"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_images</span></code></a></p></td>
<td><p>This is essentially an alias to the <a class="reference internal" href="../../stellar_opnav/stellar_class/giant.stellar_opnav.stellar_class.StellarOpNav.add_images.html#giant.stellar_opnav.stellar_class.StellarOpNav.add_images" title="giant.stellar_opnav.stellar_class.StellarOpNav.add_images"><code class="xref py py-meth docutils literal notranslate"><span class="pre">StellarOpNav.add_images()</span></code></a> method, but it also expands various lists to account for the new number of images.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="giant.ufo.detector.Detector.clear_results.html#giant.ufo.detector.Detector.clear_results" title="giant.ufo.detector.Detector.clear_results"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear_results</span></code></a></p></td>
<td><p>This clears all extracted UFOs/Stars from the instance with the exception of the <code class="xref py py-attr docutils literal notranslate"><span class="pre">detection_data_frame</span></code> for memory purposes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="giant.ufo.detector.Detector.find_ufos.html#giant.ufo.detector.Detector.find_ufos" title="giant.ufo.detector.Detector.find_ufos"><code class="xref py py-obj docutils literal notranslate"><span class="pre">find_ufos</span></code></a></p></td>
<td><p>This method finds unidentified bright spots (not matching a star or an extended body) in the images turned on in the  camera.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="giant.ufo.detector.Detector.identify_hot_pixels_and_unmatched_stars.html#giant.ufo.detector.Detector.identify_hot_pixels_and_unmatched_stars" title="giant.ufo.detector.Detector.identify_hot_pixels_and_unmatched_stars"><code class="xref py py-obj docutils literal notranslate"><span class="pre">identify_hot_pixels_and_unmatched_stars</span></code></a></p></td>
<td><p>This method is used to attempt to autonomously identify detections due to consistent hot-pixels (where the same pixel is very bring in many images) or do to an unmatched star (where the same inertial direction is observed in multiple images).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="giant.ufo.detector.Detector.package_results.html#giant.ufo.detector.Detector.package_results" title="giant.ufo.detector.Detector.package_results"><code class="xref py py-obj docutils literal notranslate"><span class="pre">package_results</span></code></a></p></td>
<td><p>This method packages information about UFOs (and matched stars) into attributes in this class and as a Pandas DataFrame that can be stored to any number of table formats.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="giant.ufo.detector.Detector.remove_duplicates.html#giant.ufo.detector.Detector.remove_duplicates" title="giant.ufo.detector.Detector.remove_duplicates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_duplicates</span></code></a></p></td>
<td><p>Removes duplicates from the dataframe.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="giant.ufo.detector.Detector.save_results.html#giant.ufo.detector.Detector.save_results" title="giant.ufo.detector.Detector.save_results"><code class="xref py py-obj docutils literal notranslate"><span class="pre">save_results</span></code></a></p></td>
<td><p>This method saves the results into csv files.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="giant.ufo.detector.Detector.update_attitude.html#giant.ufo.detector.Detector.update_attitude" title="giant.ufo.detector.Detector.update_attitude"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_attitude</span></code></a></p></td>
<td><p>This method estimates the attitude for each turned on image in the camera.</p></td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="../giant.ufo.detector.html" title="Previous document">giant.ufo.detector</a>
        </li>
        <li>
          <a href="giant.ufo.detector.Detector.add_images.html" title="Next document">Detector.add_images</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2021 United States Government.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/ufo/detector/giant.ufo.detector.Detector.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>